<UserControl
	xmlns="https://github.com/avaloniaui"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:local="clr-namespace:YAAL"
	x:Class="YAAL.SlotHolder"
	HorizontalAlignment="Stretch"
	>
	<UserControl.Resources>
		<local:BoolInvert x:Key="BoolInvert"/>
	</UserControl.Resources>

	<Border Name="ThemeHolder" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
		<Grid RowDefinitions="*" VerticalAlignment="Stretch">
			<Border
				Name="PlayMode"
				BorderBrush="Gray"
				BorderThickness="1"
				CornerRadius="4"
				Padding="6"
				HorizontalAlignment="Stretch"
				VerticalAlignment="Stretch"
				IsVisible="True"
				Grid.RowSpan="3"
				>
				<Grid Name="PlayEmptySpace" RowDefinitions="0,*,0">
					<Grid VerticalAlignment="Stretch" RowDefinitions="*,8,*" Grid.Row="1">
						<Grid ColumnDefinitions="*,8,*" Grid.Row="0" VerticalAlignment="Stretch">
							<Grid ColumnDefinitions="30,8,*">
								<Button
									Content="Play"
									Name="RealPlay"
									VerticalAlignment="Stretch"
									HorizontalAlignment="Stretch"
									Grid.Column="0"
									ToolTip.Tip="Launchs the selected game"
									local:AutoIcon.Icon="Play"
									local:VisibilityHolder.VisibilityHolder="PlayMode"
									Height="30"
									>
									<Svg
										VerticalAlignment="Center"
										HorizontalAlignment="Center"
										Width="30"
									/>
								</Button>
								<Border
									BorderThickness="1"
									BorderBrush="Gray"
									Grid.Column="2"
									Padding="8"
									Name="Transparent1"
									Height="30"
									>
									<TextBlock
										Name="_SlotName"
										Text="This is a slot name"
										VerticalAlignment="Center"
										HorizontalAlignment="Stretch"
										Grid.Column="2"
										ToolTip.Tip="The slot name"
										/>
								</Border>
							</Grid>

							<Grid ColumnDefinitions="*,8,30,8,30" Grid.Column="2">
								<ComboBox
									Name="ToolSelect"
									HorizontalAlignment="Stretch"
									VerticalAlignment="Stretch"
									HorizontalContentAlignment="Left"
									VerticalContentAlignment="Center"
									Grid.Column="0"
									Height="30"
									>
									<ComboBox.Styles>
										<Style Selector="ComboBoxItem">
											<Setter Property="IsEnabled"
													Value="{Binding isHeader, Converter={StaticResource BoolInvert}}" />
											<Setter Property="IsHitTestVisible"
													Value="{Binding isHeader, Converter={StaticResource BoolInvert}}" />
										</Style>
									</ComboBox.Styles>
									<ComboBox.ItemTemplate>
										<DataTemplate>
											<TextBlock
												Text="{Binding name}"
											/>
										</DataTemplate>
									</ComboBox.ItemTemplate>
								</ComboBox>
								<Button
									Name="StartTool"
									VerticalAlignment="Stretch"
									HorizontalAlignment="Stretch"
									Grid.Column="2"
									local:AutoIcon.Icon="ToolPlay"
									local:VisibilityHolder.VisibilityHolder="PlayMode"
									Height="30"
									>
									<Svg
										VerticalAlignment="Center"
										HorizontalAlignment="Center"
										Width="30"
									/>
								</Button>
								<Button
									Name="Edit"
									VerticalAlignment="Stretch"
									HorizontalAlignment="Stretch"
									Grid.Column="4"
									local:AutoIcon.Icon="Settings"
									local:VisibilityHolder.VisibilityHolder="PlayMode"
									Height="30"
									>
									<Svg
										VerticalAlignment="Center"
										HorizontalAlignment="Center"
										Width="30"
									/>
								</Button>
							</Grid>
						</Grid>

						<Grid ColumnDefinitions="*,8,30" Grid.Row="2">
							<Border 
								Name="Foreground"
								BorderBrush="Gray"
								BorderThickness="1"
								CornerRadius="4"
								>
								<ScrollViewer 
									Grid.Column="0" 
									Name="Viewer"
									>
									<Border
										Padding="4,4,17,0"
										>
										<StackPanel Name="TrackerItemHolder"/>
									</Border>
								</ScrollViewer>
							</Border>
							<Button
								Name="UpdateItems"
								VerticalAlignment="Stretch"
								HorizontalAlignment="Stretch"
								Grid.Column="2"
								ToolTip.Tip="Update tracker"
								local:AutoIcon.Icon="Refresh"
								local:VisibilityHolder.VisibilityHolder="PlayMode"
								Height="30"
								>
								<Svg
									VerticalAlignment="Center"
									HorizontalAlignment="Center"
									Width="30"
								/>
							</Button>
						</Grid>
					</Grid>
				</Grid>
			</Border>
			<Border
				Name="EditMode"
				IsVisible="False"
				>
				<Grid Name="EditEmptySpace" RowDefinitions="0,*,0">
					<Grid RowDefinitions="*,8,*" Grid.Row="1">
						<Border
							Name="EditRow1"
							BorderBrush="Gray"
							BorderThickness="1"
							CornerRadius="4"
							Padding="6"
							HorizontalAlignment="Stretch"
							IsVisible="True"
						>
								<Grid Grid.Row="1" ColumnDefinitions="*,8,*" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
									<Grid Grid.Column="0" ColumnDefinitions="30,8,*">
										<Button
											Name="DeleteSlot"
											Grid.Column="0"
											VerticalAlignment="Stretch"
											HorizontalAlignment="Stretch"
											local:AutoIcon.Icon="Trash"
											local:VisibilityHolder.VisibilityHolder="EditMode"
											Height="30"
										>
											<Svg
												VerticalAlignment="Center"
												HorizontalAlignment="Center"
												Width="30"
										/>
										</Button>

										<Grid Name="ManualLabel" IsVisible="True" Grid.Column="2" ColumnDefinitions="*,8,*">
											<TextBox
												Name="SlotLabel"
												VerticalAlignment="Center"
												HorizontalAlignment="Stretch"
												HorizontalContentAlignment="Center"
												Grid.Column="0"
												ToolTip.Tip="The name you see in YAAL"
												Watermark="Label name"
												/>
											
											<TextBox
												Name="SlotName"
												VerticalAlignment="Center"
												HorizontalAlignment="Stretch"
												HorizontalContentAlignment="Center"
												Grid.Column="2"
												ToolTip.Tip="The slot's name in the room"
												Watermark="Slot name"
												/>
										</Grid>


										<ComboBox
											Name="SlotSelector"
											VerticalAlignment="Center"
											HorizontalAlignment="Stretch"
											HorizontalContentAlignment="Center"
											Grid.Column="2"
											Grid.ColumnSpan="3"
											IsVisible="False"
											ItemsSource="{Binding Cache_DisplaySlot}"
											SelectedItem="{Binding selectedSlot}"
										>
											<ComboBox.Styles>
												<Style Selector="ComboBoxItem">
													<Setter Property="IsEnabled"
															Value="{Binding isHeader, Converter={StaticResource BoolInvert}}" />
													<Setter Property="IsHitTestVisible"
															Value="{Binding isHeader, Converter={StaticResource BoolInvert}}" />
												</Style>
											</ComboBox.Styles>
											<ComboBox.ItemTemplate>
												<DataTemplate>
													<TextBlock
														Text="{Binding slotName}"
												/>
												</DataTemplate>
											</ComboBox.ItemTemplate>
										</ComboBox>
									</Grid>
									<Grid Grid.Column="2" ColumnDefinitions="*,8,*,8,30" HorizontalAlignment="Stretch">

										<Grid Name="ManualAutoLabelButton" Grid.Column="0">
											<Button
												Name="ManualLabelButton"
												Content="Manual label"
												HorizontalAlignment="Stretch"
												HorizontalContentAlignment="Center"
												IsVisible="False"
											/>
											<Button
												Name="AutomaticLabelButton"
												Content="Auto label"
												HorizontalAlignment="Stretch"
												HorizontalContentAlignment="Center"
												IsVisible="True"
											/>
										</Grid>

										<Grid Name="ManualAutoPatchButton" Grid.Column="2">
											<Button
												Name="ManualPatchButton"
												Content="Manual patch"
												HorizontalAlignment="Stretch"
												HorizontalContentAlignment="Center"
												IsVisible="True"
											/>
											<Button
												Name="AutomaticPatchButton"
												Content="Auto patch"
												HorizontalAlignment="Stretch"
												HorizontalContentAlignment="Center"
												IsVisible="False"
											/>
										</Grid>


										<Button
											Name="DoneEditing"
											Content="Save"
											Grid.Column="4"
											VerticalAlignment="Stretch"
											HorizontalAlignment="Stretch"
											local:AutoIcon.Icon="Save"
											local:VisibilityHolder.VisibilityHolder="EditMode"
											Height="30"
										>
											<Svg
												VerticalAlignment="Center"
												HorizontalAlignment="Center"
												Width="30"
										/>
										</Button>
									</Grid>
								</Grid>
						</Border>

						<Border
							Name="EditRow2"
							BorderBrush="Gray"
							BorderThickness="1"
							CornerRadius="4"
							Padding="6"
							HorizontalAlignment="Stretch"
							IsVisible="True"
							Grid.Row="2"
						>
								<Grid Grid.Row="1" ColumnDefinitions="*,8,*,8,*" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
									<ComboBox
										Name="LauncherSelector"
										Grid.Column="0"
										HorizontalAlignment="Stretch"
										VerticalAlignment="Center"
										HorizontalContentAlignment="Center"
									>
										<ComboBox.Styles>
											<Style Selector="ComboBoxItem">
												<Setter Property="IsEnabled"
														Value="{Binding isHeader, Converter={StaticResource BoolInvert}}" />
												<Setter Property="IsHitTestVisible"
														Value="{Binding isHeader, Converter={StaticResource BoolInvert}}" />
											</Style>
										</ComboBox.Styles>
										<ComboBox.ItemTemplate>
											<DataTemplate>
												<TextBlock
													Text="{Binding name}"
												/>
											</DataTemplate>
										</ComboBox.ItemTemplate>
									</ComboBox>
									<ComboBox
										Name="SelectedVersion"
										Grid.Column="2"
										HorizontalAlignment="Stretch"
										VerticalAlignment="Center"
										HorizontalContentAlignment="Center"
										/>

									<Grid Name="AutomaticPatch" Grid.Column="4" IsVisible="True">
										<Button
											Name="DownloadPatch"
											Content="Download"
											VerticalAlignment="Stretch"
											HorizontalAlignment="Stretch"
											HorizontalContentAlignment="Center"
											Grid.Column="0"
											Height="30"
											/>
										<Button
											Name="ReDownloadPatch"
											Content="Download"
											VerticalAlignment="Stretch"
											HorizontalAlignment="Stretch"
											HorizontalContentAlignment="Center"
											Grid.Column="0"
											IsVisible="false"
											Height="30"
											/>
									</Grid>

									<Grid Name="ManualPatch" IsVisible="False" ColumnDefinitions="*,8,30" Grid.Column="4">
										<TextBox
										Name="Patch"
										Grid.Column="0"
										VerticalContentAlignment="Center"
										VerticalAlignment="Center"
										HorizontalAlignment="Stretch"
										ToolTip.Tip="The patch file"
										Watermark="/path/to/patch"
										/>
										<Button
											Name="PatchSelect"
											Width="30"
											Height="30"
											Grid.Column="2"
											HorizontalAlignment="Stretch"
											VerticalAlignment="Stretch"
											local:AutoIcon.Icon="File"
											local:VisibilityHolder.VisibilityHolder="ManualPatch"
											ToolTip.Tip="Select a file"
											>
											<Svg
												VerticalAlignment="Center"
												HorizontalAlignment="Center"
												Width="30"
												/>
										</Button>
									</Grid>
								</Grid>
						</Border>
					</Grid>
				</Grid>
			</Border>
			
		</Grid>
	</Border>
</UserControl>